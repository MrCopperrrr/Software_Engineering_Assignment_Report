\newpage
\subsubsection*{Use Case 17: Sinh viên đánh giá Tutor}
\begin{samepage}
\begin{table}[h!]
\begin{tabular}{|l|lll|l}
\cline{1-4}
\textbf{ID} &
  \multicolumn{3}{l|}{UC-17} &
   \\ \cline{1-4}
\textbf{Tên} &
  \multicolumn{3}{l|}{SV đánh giá Tutor} &
   \\ \cline{1-4}
\textbf{Mô tả} &
  \multicolumn{3}{l|}{\begin{tabular}[c]{@{}l@{}}Sau khi môn học kết thúc, sinh viên có thể đánh giá chất lượng Tutor để \\ phản hồi về hiệu quả hỗ trợ.\end{tabular}} &
   \\ \cline{1-4}
\textbf{Actor chính} &
  \multicolumn{3}{l|}{Sinh viên} &
   \\ \cline{1-4}
\textbf{Actor phụ} &
  \multicolumn{3}{l|}{Tutor, Hệ thống, Khoa/BM} &
   \\ \cline{1-4}
\textbf{Tiền điều kiện} &
  \multicolumn{3}{l|}{\begin{tabular}[c]{@{}l@{}}Môn học đã hoàn tất.\\ SV đã tham gia (có điểm danh $\geq$ 1 buổi trong môn).\end{tabular}} &
   \\ \cline{1-4}
\textbf{Hậu điều kiện} &
  \multicolumn{3}{l|}{Feedback được lưu vào hệ thống và gắn với hồ sơ Tutor.} &
   \\ \cline{1-4}
\multirow{7}{*}{\textbf{Luồng sự kiện}} &
  \multicolumn{1}{l|}{\textbf{Bước}} &
  \multicolumn{1}{l|}{\textbf{Thực hiện bởi}} &
  \textbf{Mô tả} &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{1} &
  \multicolumn{1}{l|}{Sinh viên} &
  Đăng nhập và chọn “Đánh giá Tutor”. &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{2} &
  \multicolumn{1}{l|}{Hệ thống} &
  Hiển thị danh sách môn học đã hoàn tất. &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{3} &
  \multicolumn{1}{l|}{Sinh viên} &
  Chọn môn học muốn đánh giá. &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{4} &
  \multicolumn{1}{l|}{Sinh viên} &
  Nhập rating (1–5, bắt buộc) và nhận xét (tùy chọn). &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{5} &
  \multicolumn{1}{l|}{Hệ thống} &
  Lưu đánh giá vào DB. &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{6} &
  \multicolumn{1}{l|}{Hệ thống} &
  Hiển thị thông báo “Đánh giá thành công”. &
   \\ \cline{1-4}
\multirow{3}{*}{\textbf{Luồng thay thế}} &
  \multicolumn{1}{l|}{\textbf{Bước}} &
  \multicolumn{1}{l|}{\textbf{Thực hiện bởi}} &
  \textbf{Mô tả} &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{2a} &
  \multicolumn{1}{l|}{Hệ thống} &
  \begin{tabular}[c]{@{}l@{}}Nếu không có môn học nào đã hoàn tất → hiển \\ thị “Chưa có môn học để đánh giá”.\end{tabular} &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{4a} &
  \multicolumn{1}{l|}{Sinh viên} &
  Nếu SV bỏ trống rating → hệ thống nhắc nhập. &
   \\ \cline{1-4}
\textbf{Ngoại lệ} &
  \multicolumn{3}{l|}{Lỗi khi lưu DB → hiển thị “Đánh giá thất bại, thử lại sau”.} &
   \\ \cline{1-4}
\textbf{Business Rules} &
  \multicolumn{3}{l|}{\begin{tabular}[c]{@{}l@{}}Mỗi SV chỉ được đánh giá 1 lần cho mỗi môn.\\ Rating bắt buộc, nhận xét không bắt buộc.\\ Feedback SV gửi → Tutor \& Khoa đều xem được.\\ Không cho sửa sau khi gửi.\end{tabular}} &
   \\ \cline{1-4}
\textbf{Data requirement} &
  \multicolumn{3}{l|}{\begin{tabular}[c]{@{}l@{}}Feedback(feedbackID, fromUserID, toUserID, subjectID, roleFrom,\\  roleTo, rating, comment, createdAt)\\  (roleFrom = "SV", roleTo = "Tutor")\end{tabular}} &
   \\ \cline{1-4}
\end{tabular}
\caption{Bảng đặc tả chức năng sinh viên đánh giá Tutor}
\end{table}
\end{samepage}

%========================================================================================

\newpage
\subsubsection*{Use Case 18: Tutor đánh giá sinh viên}
\begin{samepage}
\begin{table}[h!]
\begin{tabular}{|l|lll|l}
\cline{1-4}
\textbf{ID} &
  \multicolumn{3}{l|}{UC-18} &
   \\ \cline{1-4}
\textbf{Tên} &
  \multicolumn{3}{l|}{Tutor đánh giá sinh viên} &
   \\ \cline{1-4}
\textbf{Mô tả} &
  \multicolumn{3}{l|}{\begin{tabular}[c]{@{}l@{}}Sau khi kết thúc môn học, Tutor có thể đánh giá mức độ tham gia, thái \\ độ học tập của SV để phản hồi cho Khoa/BM.\end{tabular}} &
   \\ \cline{1-4}
\textbf{Actor chính} &
  \multicolumn{3}{l|}{Tutor} &
   \\ \cline{1-4}
\textbf{Actor phụ} &
  \multicolumn{3}{l|}{SV, Hệ thống, Khoa/BM} &
   \\ \cline{1-4}
\textbf{Tiền điều kiện} &
  \multicolumn{3}{l|}{Môn học đã hoàn tất.SV đã tham gia ít nhất 1 buổi.} &
   \\ \cline{1-4}
\textbf{Hậu điều kiện} &
  \multicolumn{3}{l|}{\begin{tabular}[c]{@{}l@{}}Feedback của Tutor được lưu trong DB, gắn với hồ sơ SV.\\ Khoa/BM có thể xem dữ liệu này trong báo cáo tổng hợp.\end{tabular}} &
   \\ \cline{1-4}
\multirow{7}{*}{\textbf{Luồng sự kiện}} &
  \multicolumn{1}{l|}{\textbf{Bước}} &
  \multicolumn{1}{l|}{\textbf{Thực hiện bởi}} &
  \textbf{Mô tả} &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{1} &
  \multicolumn{1}{l|}{Tutor} &
  Đăng nhập, chọn “Đánh giá sinh viên”. &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{2} &
  \multicolumn{1}{l|}{Hệ thống} &
  Hiển thị danh sách SV đã dạy. &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{3} &
  \multicolumn{1}{l|}{Tutor} &
  Chọn SV cần đánh giá. &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{4} &
  \multicolumn{1}{l|}{Tutor} &
  \begin{tabular}[c]{@{}l@{}}Nhập:\\ Rating (1–5, bắt buộc)\\ Nhận xét (tùy chọn)\\ Tiêu chí (chuyên cần, thái độ, hợp tác–tùy chọn)\end{tabular} &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{5} &
  \multicolumn{1}{l|}{Hệ thống} &
  Lưu dữ liệu vào DB. &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{6} &
  \multicolumn{1}{l|}{Hệ thống} &
  Hiển thị “Đánh giá thành công”. &
   \\ \cline{1-4}
\multirow{3}{*}{\textbf{Luồng thay thế}} &
  \multicolumn{1}{l|}{\textbf{Bước}} &
  \multicolumn{1}{l|}{\textbf{Thực hiện bởi}} &
  \textbf{Mô tả} &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{2a} &
  \multicolumn{1}{l|}{Hệ thống} &
  \begin{tabular}[c]{@{}l@{}}Nếu chưa có SV nào đã học xong → hiển thị \\ “Không có sinh viên để đánh giá”.\end{tabular} &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{4a} &
  \multicolumn{1}{l|}{Tutor} &
  Nếu Tutor bỏ trống rating → hệ thống nhắc nhập. &
   \\ \cline{1-4}
\textbf{Ngoại lệ} &
  \multicolumn{3}{l|}{Lỗi DB → hiển thị “Đánh giá thất bại, thử lại sau”.} &
   \\ \cline{1-4}
\textbf{Business Rules} &
  \multicolumn{3}{l|}{\begin{tabular}[c]{@{}l@{}}Mỗi SV chỉ được Tutor đánh giá 1 lần/môn.\\ Rating bắt buộc, nhận xét/tiêu chí không bắt buộc.\\ Feedback của Tutor chỉ hiển thị cho Khoa/BM (không gửi cho SV).\\ Dùng cho mục đích quản lý chất lượng.\end{tabular}} &
   \\ \cline{1-4}
\textbf{Data requirement} &
  \multicolumn{3}{l|}{\begin{tabular}[c]{@{}l@{}}Feedback(feedbackID, fromUserID, toUserID, subjectID, roleFrom, \\ roleTo, rating, comment, criteria, createdAt)\\ (roleFrom = "Tutor", roleTo = "SV")\end{tabular}} &
   \\ \cline{1-4}
\end{tabular}
\caption{Bảng đặc tả chức năng Tutor đánh giá sinh viên}
\end{table}
\end{samepage}

%========================================================================================

\newpage
\subsubsection*{Use Case 19: Khoa/BM tổng hợp đánh giá}
\begin{samepage}
\begin{table}[h!]
\begin{tabular}{|l|lll|l}
\cline{1-4}
\textbf{ID} &
  \multicolumn{3}{l|}{UC-19} &
   \\ \cline{1-4}
\textbf{Tên} &
  \multicolumn{3}{l|}{Khoa/BM tổng hợp đánh giá} &
   \\ \cline{1-4}
\textbf{Mô tả} &
  \multicolumn{3}{l|}{\begin{tabular}[c]{@{}l@{}}Khoa/BM có thể xem báo cáo tổng hợp về đánh giá hai chiều:\\ SV đánh giá Tutor và Tutor đánh giá SV\end{tabular}} &
   \\ \cline{1-4}
\textbf{Actor chính} &
  \multicolumn{3}{l|}{Khoa/BM} &
   \\ \cline{1-4}
\textbf{Actor phụ} &
  \multicolumn{3}{l|}{Hệ thống, Tutor, SV} &
   \\ \cline{1-4}
\textbf{Tiền điều kiện} &
  \multicolumn{3}{l|}{Người dùng có quyền Khoa/BM hoặc Admin.} &
   \\ \cline{1-4}
\textbf{Hậu điều kiện} &
  \multicolumn{3}{l|}{Báo cáo tổng hợp được hiển thị trên giao diện hoặc xuất file.} &
   \\ \cline{1-4}
\multirow{7}{*}{\textbf{Luồng sự kiện}} &
  \multicolumn{1}{l|}{\textbf{Bước}} &
  \multicolumn{1}{l|}{\textbf{Thực hiện bởi}} &
  \textbf{Mô tả} &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{1} &
  \multicolumn{1}{l|}{Khoa/BM} &
  Đăng nhập hệ thống. &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{2} &
  \multicolumn{1}{l|}{Khoa/BM} &
  Chọn chức năng “Xem báo cáo đánh giá”. &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{3} &
  \multicolumn{1}{l|}{Hệ thống} &
  \begin{tabular}[c]{@{}l@{}}Truy xuất dữ liệu feedback từ DB (theo từng \\ Tutor và SV).\end{tabular} &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{4} &
  \multicolumn{1}{l|}{Hệ thống} &
  \begin{tabular}[c]{@{}l@{}}Tính toán các chỉ số:\\ Đối với Tutor: điểm trung bình, số lượt đánh giá, \\ \% SV hài lòng.\\ Đối với SV: điểm trung bình, số môn đã học, \\ tiêu chí chuyên cần/thái độ/hợp tác.\end{tabular} &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{5} &
  \multicolumn{1}{l|}{Hệ thống} &
  Hiển thị báo cáo dạng bảng/biểu đồ. &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{6} &
  \multicolumn{1}{l|}{Người dùng} &
  Có thể chọn xuất file (Excel/PDF). &
   \\ \cline{1-4}
\multirow{2}{*}{\textbf{Luồng thay thế}} &
  \multicolumn{1}{l|}{\textbf{Bước}} &
  \multicolumn{1}{l|}{\textbf{Thực hiện bởi}} &
  \textbf{Mô tả} &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{3a} &
  \multicolumn{1}{l|}{Hệ thống} &
  \begin{tabular}[c]{@{}l@{}}Nếu chưa có dữ liệu đánh giá (VD Tutor chưa \\ từng dạy, SV chưa từng học) → Hệ thống hiển \\ thị “Chưa có dữ liệu để báo cáo”.\end{tabular} &
   \\ \cline{1-4}
\textbf{Ngoại lệ} &
  \multicolumn{3}{l|}{\begin{tabular}[c]{@{}l@{}}Hệ thống lỗi khi truy vấn DB → hiển thị “Không thể lấy dữ liệu, thử \\ lại sau”\end{tabular}} &
   \\ \cline{1-4}
\textbf{Business Rules} &
  \multicolumn{3}{l|}{\begin{tabular}[c]{@{}l@{}}Chỉ Khoa/BM hoặc Admin mới được xem báo cáo.\\ Báo cáo phải hiển thị cả 2 chiều:\\ Đánh giá Tutor (từ SV) và đánh giá SV (từ Tutor).\\ Báo cáo cập nhật dữ liệu theo thời gian thực.\end{tabular}} &
   \\ \cline{1-4}
\textbf{Data requirement} &
  \multicolumn{3}{l|}{\begin{tabular}[c]{@{}l@{}}TutorReport(tutorID, avgRating, totalFeedback, positiveRate, \\ generatedAt)\\ StudentReport(studentID, avgRating, totalFeedback, criteriaStats, \\ generatedAt)\end{tabular}} &
   \\ \cline{1-4}
\end{tabular}
\caption{Bảng đặc tả chức năng Khoa/BM tổng hợp đánh giá}
\end{table}
\end{samepage}

%========================================================================================
