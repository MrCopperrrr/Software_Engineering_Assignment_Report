\newpage
\subsubsection*{Use Case 01: Đăng ký tài khoản}
\begin{samepage}
% Please add the following required packages to your document preamble:
% \usepackage{multirow}
\begin{table}[]
\begin{tabular}{|l|lll|l}
\cline{1-4}
\textbf{ID} &
  \multicolumn{3}{l|}{UC-01} &
   \\ \cline{1-4}
\textbf{Tên} &
  \multicolumn{3}{l|}{Đăng ký tài khoản} &
   \\ \cline{1-4}
\textbf{Mô tả} &
  \multicolumn{3}{l|}{\begin{tabular}[c]{@{}l@{}}Người dùng (SV hoặc Tutor) đăng ký tài khoản mới để tham gia hệ \\ thống.\end{tabular}} &
   \\ \cline{1-4}
\textbf{Actor chính} &
  \multicolumn{3}{l|}{Sinh viên, Tutor} &
   \\ \cline{1-4}
\textbf{Actor phụ} &
  \multicolumn{3}{l|}{Hệ thống xác thực OTP (Email/SMS), Admin PĐT} &
   \\ \cline{1-4}
\textbf{Tiền điều kiện} &
  \multicolumn{3}{l|}{\begin{tabular}[c]{@{}l@{}}Người dùng chưa có tài khoản\\ Có email hoặc số điện thoại hợp lệ\end{tabular}} &
   \\ \cline{1-4}
\textbf{Hậu điều kiện} &
  \multicolumn{3}{l|}{\begin{tabular}[c]{@{}l@{}}Tài khoản hợp lệ được tạo, có ID duy nhất.\\ Hồ sơ người dùng được lưu trong cơ sở dữ liệu\end{tabular}} &
   \\ \cline{1-4}
\multirow{10}{*}{\textbf{Luồng sự kiện}} &
  \multicolumn{1}{l|}{\textbf{Bước}} &
  \multicolumn{1}{l|}{\textbf{Thực hiện bởi}} &
  \textbf{Mô tả} &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{1} &
  \multicolumn{1}{l|}{Người dùng} &
  Chọn chức năng “Đăng ký”. &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{2} &
  \multicolumn{1}{l|}{Người dùng} &
  \begin{tabular}[c]{@{}l@{}}Nhập thông tin cá nhân \\ (SV: MSSV, GPA, khoa; Tutor: chuyên môn, \\ GPA $\geq$ 3.0 hoặc giấy xác minh).\end{tabular} &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{3} &
  \multicolumn{1}{l|}{Hệ thống} &
  Kiểm tra định dạng dữ liệu. &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{4} &
  \multicolumn{1}{l|}{Hệ thống} &
  Gửi OTP xác thực qua email/SMS. &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{5} &
  \multicolumn{1}{l|}{Người dùng} &
  Nhập OTP nhận được. &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{6} &
  \multicolumn{1}{l|}{Hệ thống} &
  Kiểm tra OTP. &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{7} &
  \multicolumn{1}{l|}{Hệ thống} &
  Kiểm tra trùng MSSV/email. &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{8} &
  \multicolumn{1}{l|}{Hệ thống} &
  Lưu dữ liệu hợp lệ, gán UserID duy nhất. &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{9} &
  \multicolumn{1}{l|}{Hệ thống} &
  Hiển thị thông báo “Đăng ký thành công” &
   \\ \cline{1-4}
\multirow{4}{*}{\textbf{Luồng thay thế}} &
  \multicolumn{1}{l|}{\textbf{Bước}} &
  \multicolumn{1}{l|}{\textbf{Thực hiện bởi}} &
  \textbf{Mô tả} &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{3a} &
  \multicolumn{1}{l|}{Người dùng} &
  \begin{tabular}[c]{@{}l@{}}Nhập email không hợp lệ → Hệ thống báo lỗi, \\ yêu cầu nhập lại (quay về bước 2).\end{tabular} &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{5a} &
  \multicolumn{1}{l|}{Người dùng} &
  \begin{tabular}[c]{@{}l@{}}Người dùng nhập OTP sai → Hệ thống báo lỗi, \\ cho nhập lại tối đa 3 lần.\end{tabular} &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{7a} &
  \multicolumn{1}{l|}{Hệ thống} &
  \begin{tabular}[c]{@{}l@{}}Phát hiện MSSV/email đã tồn tại → hiển thị \\ “Tài khoản đã có”.\end{tabular} &
   \\ \cline{1-4}
\textbf{Ngoại lệ} &
  \multicolumn{3}{l|}{\begin{tabular}[c]{@{}l@{}}Hệ thống không gửi được OTP (lỗi server/email/SMS) \\ → hiển thị “Vui lòng thử lại sau”. \\ Hệ thống lỗi khi lưu dữ liệu vào DB \\ → rollback, hiển thị “Thao tác thất bại”.\end{tabular}} &
   \\ \cline{1-4}
\textbf{Business Rules} &
  \multicolumn{3}{l|}{\begin{tabular}[c]{@{}l@{}}Một MSSV/email chỉ được dùng cho 1 tài khoản. \\ Tutor phải được xác minh bởi PĐT trước khi tài khoản kích hoạt.\end{tabular}} &
   \\ \cline{1-4}
\textbf{Data requirement} &
  \multicolumn{3}{l|}{\begin{tabular}[c]{@{}l@{}}Users(userID, role, email, password, MSSV, GPA, faculty)\\ TutorProfile(tutorID, chuyên môn, giấy xác minh)\end{tabular}} &
   \\ \cline{1-4}
\end{tabular}
\caption{Bảng đặc tả chức năng đăng ký tài khoản}
\end{table}
\end{samepage}

%========================================================================================

\newpage
\subsubsection*{Use Case 02: Đăng nhập}
\begin{samepage}
\begin{table}[h!]
\begin{tabular}{|l|lll|l}
\cline{1-4}
\textbf{ID} &
  \multicolumn{3}{l|}{UC-02} &
   \\ \cline{1-4}
\textbf{Tên} &
  \multicolumn{3}{l|}{Đăng nhập} &
   \\ \cline{1-4}
\textbf{Mô tả} &
  \multicolumn{3}{l|}{Người dùng đăng nhập để truy cập hệ thống bằng tài khoản đã đăng ký.} &
   \\ \cline{1-4}
\textbf{Actor chính} &
  \multicolumn{3}{l|}{SV, Tutor, Admin} &
   \\ \cline{1-4}
\textbf{Actor phụ} &
  \multicolumn{3}{l|}{Hệ thống xác thực đăng nhập} &
   \\ \cline{1-4}
\textbf{Tiền điều kiện} &
  \multicolumn{3}{l|}{Người dùng đã có tài khoản hợp lệ.} &
   \\ \cline{1-4}
\textbf{Hậu điều kiện} &
  \multicolumn{3}{l|}{Người dùng truy cập được dashboard theo đúng quyền} &
   \\ \cline{1-4}
\multirow{6}{*}{\textbf{Luồng sự kiện}} &
  \multicolumn{1}{l|}{\textbf{Bước}} &
  \multicolumn{1}{l|}{\textbf{Thực hiện bởi}} &
  \textbf{Mô tả} &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{1} &
  \multicolumn{1}{l|}{Người dùng} &
  Mở giao diện đăng nhập &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{2} &
  \multicolumn{1}{l|}{Người dùng} &
  Nhập email/MSSV và mật khẩu. &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{3} &
  \multicolumn{1}{l|}{Hệ thống} &
  Kiểm tra định dạng dữ liệu đầu vào &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{4} &
  \multicolumn{1}{l|}{Hệ thống} &
  Kiểm tra thông tin đăng nhập trong DB. &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{5} &
  \multicolumn{1}{l|}{Hệ thống} &
  \begin{tabular}[c]{@{}l@{}}Xác nhận thông tin đúng → mở phiên đăng \\ nhập và chuyển đến giao diện chính.\end{tabular} &
   \\ \cline{1-4}
\multirow{3}{*}{\textbf{Luồng thay thế}} &
  \multicolumn{1}{l|}{\textbf{Bước}} &
  \multicolumn{1}{l|}{\textbf{Thực hiện bởi}} &
  \textbf{Mô tả} &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{2a} &
  \multicolumn{1}{l|}{Người dùng} &
  \begin{tabular}[c]{@{}l@{}}Nhập sai mật khẩu → Hệ thống báo lỗi \\ “Sai mật khẩu”, cho nhập lại tối đa 5 lần.\end{tabular} &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{4a} &
  \multicolumn{1}{l|}{Hệ thống} &
  \begin{tabular}[c]{@{}l@{}}Phát hiện tài khoản bị khóa → hiển thị \\ “Tài khoản bị khóa, liên hệ Admin”..\end{tabular} &
   \\ \cline{1-4}
\textbf{Ngoại lệ} &
  \multicolumn{3}{l|}{\begin{tabular}[c]{@{}l@{}}Gặp lỗi khi truy vấn DB → hiển thị “Không thể đăng nhập lúc này, \\ vui lòng thử lại sau”.\end{tabular}} &
   \\ \cline{1-4}
\textbf{Business Rules} &
  \multicolumn{3}{l|}{\begin{tabular}[c]{@{}l@{}}Nếu nhập sai mật khẩu quá 5 lần → Hệ thống tự động khóa tài khoản \\ trong 30 phút. Admin có quyền thiết lập lại mật khẩu cho người dùng.\end{tabular}} &
   \\ \cline{1-4}
\textbf{Data requirement} &
  \multicolumn{3}{l|}{Users(userID, email, password, role, status, lastLogin)} &
   \\ \cline{1-4}
\end{tabular}
\caption{Bảng đặc tả chức năng đăng nhập}
\end{table}
\end{samepage}

%========================================================================================

\newpage
\subsubsection*{Use Case 03: Cập nhật hồ sơ}
\begin{samepage}
\begin{table}[h!]
\begin{tabular}{|l|lll|l}
\cline{1-4}
\textbf{ID}                              & \multicolumn{3}{l|}{UC-03}                                                                                                   &  \\ \cline{1-4}
\textbf{Tên}                             & \multicolumn{3}{l|}{Cập nhật hồ sơ}                                                                                          &  \\ \cline{1-4}
\textbf{Mô tả}                           & \multicolumn{3}{l|}{Người dùng cập nhật thông tin hồ sơ cá nhân để đảm bảo dữ liệu mới nhất.}                                &  \\ \cline{1-4}
\textbf{Actor chính}                     & \multicolumn{3}{l|}{SV, Tutor}                                                                                               &  \\ \cline{1-4}
\textbf{Actor phụ}                       & \multicolumn{3}{l|}{Hệ thống, Admin (có quyền xem/sửa/kiểm tra Tutor profile) (PĐT, Khoa)}                                   &  \\ \cline{1-4}
\textbf{Tiền điều kiện}                  & \multicolumn{3}{l|}{Người dùng đã đăng nhập hệ thống.}                                                                       &  \\ \cline{1-4}
\textbf{Hậu điều kiện}                   & \multicolumn{3}{l|}{Hồ sơ cập nhật thành công trong cơ sở dữ liệu.}                                                          &  \\ \cline{1-4}
\multirow{6}{*}{\textbf{Luồng sự kiện}}  & \multicolumn{1}{l|}{\textbf{Bước}} & \multicolumn{1}{l|}{\textbf{Thực hiện bởi}} & \textbf{Mô tả}                            &  \\ \cline{2-4}
                                         & \multicolumn{1}{l|}{1}             & \multicolumn{1}{l|}{Người dùng}             & Đăng nhập, chọn “Cập nhật hồ sơ”.         &  \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{2} &
  \multicolumn{1}{l|}{Người dùng} &
  \begin{tabular}[c]{@{}l@{}}Chỉnh sửa thông tin (SĐT, email, chuyên ngành, \\ mô tả năng lực…).\end{tabular} &
   \\ \cline{2-4}
                                         & \multicolumn{1}{l|}{3}             & \multicolumn{1}{l|}{Hệ thống}               & Kiểm tra định dạng dữ liệu.               &  \\ \cline{2-4}
                                         & \multicolumn{1}{l|}{4}             & \multicolumn{1}{l|}{Hệ thống}               & Lưu thông tin mới vào DB.                 &  \\ \cline{2-4}
                                         & \multicolumn{1}{l|}{5}             & \multicolumn{1}{l|}{Hệ thống}               & Hiển thị thông báo “Cập nhật thành công”. &  \\ \cline{1-4}
\multirow{3}{*}{\textbf{Luồng thay thế}} & \multicolumn{1}{l|}{\textbf{Bước}} & \multicolumn{1}{l|}{\textbf{Thực hiện bởi}} & \textbf{Mô tả}                            &  \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{2a} &
  \multicolumn{1}{l|}{Người dùng} &
  \begin{tabular}[c]{@{}l@{}}Bỏ trống trường bắt buộc (email, SĐT) \\ → Hệ thống báo lỗi, yêu cầu nhập lại.\end{tabular} &
   \\ \cline{2-4}
 &
  \multicolumn{1}{l|}{3a} &
  \multicolumn{1}{l|}{Người dùng} &
  \begin{tabular}[c]{@{}l@{}}Nhập email/SĐT sai định dạng \\ → Hệ thống báo lỗi, yêu cầu nhập lại.\end{tabular} &
   \\ \cline{1-4}
\textbf{Ngoại lệ}                        & \multicolumn{3}{l|}{Hệ thống lỗi khi lưu dữ liệu vào DB → hiển thị “Cập nhật thất bại”.}                                     &  \\ \cline{1-4}
\textbf{Business Rules} &
  \multicolumn{3}{l|}{\begin{tabular}[c]{@{}l@{}}Tutor phải cập nhật thông tin học thuật theo mẫu do PĐT quy định.\\ SV không được sửa MSSV.\end{tabular}} &
   \\ \cline{1-4}
\textbf{Data requirement} &
  \multicolumn{3}{l|}{\begin{tabular}[c]{@{}l@{}}Users(userID, email, phone, faculty, GPA, updatedAt)\\ TutorProfile(tutorID, chuyên môn, kinh nghiệm, updatedAt)\end{tabular}} &
   \\ \cline{1-4}
\end{tabular}
\caption{Bảng đặc tả chức năng cập nhật hồ sơ}
\end{table}
\end{samepage}